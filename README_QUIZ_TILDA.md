# Инструкция по интеграции квиза с Tilda

## Описание функциональности

Данная система автоматически собирает данные из квиза по подбору костюмов и отправляет их в форму Tilda через скрытые поля с префиксом `t-*`.

## Структура данных

### Поля квиза и соответствующие поля Tilda:

| Поле квиза | Поле Tilda | Описание |
|------------|------------|----------|
| `check-1[]` | `t-style-preferences` | Предпочтения по стилю (Кэжуал, Строгий офис, и т.д.) |
| `#height_range` | `t-height-range` | Диапазон роста пользователя |
| `checkbox-5` (шаг 3) | `t-top-preferences` | Предпочтения по верху одежды |
| `menu-bottom` | `t-bottom-preferences` | Предпочтения по низу одежды |
| `checkbox-5` (шаг 4) | `t-additional-services` | Дополнительные товары и услуги |
| `radio-5` | `t-contact-method` | Способ связи (Whatsapp, Telegram, Телефон) |
| `tel-1` | `t-phone` | Номер телефона |
| `text-946` | `t-name` | Имя пользователя |
| `agree[]` | `t-agreement` | Согласие на обработку данных |

## Настройка

### 1. Создание формы в Tilda

1. Создайте форму в Tilda с полями, соответствующими полям `t-*`
2. Получите URL формы (например: `https://forms.tilda.ws/your-form-id`)
3. Замените `https://forms.tilda.ws/your-form-id` в HTML на реальный URL вашей формы

### 2. Настройка полей в Tilda

В форме Tilda создайте поля с именами:
- `t-style-preferences` (текстовое поле)
- `t-height-range` (текстовое поле)
- `t-top-preferences` (текстовое поле)
- `t-bottom-preferences` (текстовое поле)
- `t-additional-services` (текстовое поле)
- `t-contact-method` (текстовое поле)
- `t-phone` (текстовое поле)
- `t-name` (текстовое поле)
- `t-agreement` (текстовое поле)

### 3. Настройка кнопки успеха

По умолчанию после отправки формы автоматически кликается кнопка с классом `.consult_success_btn`.

Если нужно изменить класс кнопки, отредактируйте строку в `js/script.js`:
```javascript
$('.consult_success_btn').click();
```

Замените `.consult_success_btn` на нужный класс кнопки.

## Как это работает

1. **Пользователь заполняет квиз** - проходит все 5 шагов, выбирая предпочтения
2. **Нажимает "Отправить"** - происходит валидация полей
3. **Если валидация успешна:**
   - Функция `collectQuizDataToTilda()` собирает все данные из полей квиза
   - Данные записываются в скрытые поля формы Tilda
   - Форма Tilda автоматически отправляется
   - Кликается кнопка успеха (`.consult_success_btn`)

## Файлы для редактирования

### HTML файлы:
- `index.html` - основная страница
- `dist/index.html` - собранная версия

### JavaScript файлы:
- `js/script.js` - основной скрипт
- `dist/js/script.js` - собранная версия

## Важные моменты

1. **URL формы Tilda** - обязательно замените на реальный URL вашей формы
2. **Класс кнопки успеха** - убедитесь, что кнопка с нужным классом существует на странице
3. **Синхронизация файлов** - после изменений в `index.html` и `js/script.js` обновите соответствующие файлы в папке `dist`
4. **Тестирование** - проверьте работу на всех этапах квиза

## Отладка

Система автоматически выводит все собранные данные в консоль браузера при отправке формы. Для просмотра:

1. Откройте консоль браузера (F12 → Console)
2. Заполните и отправьте квиз
3. В консоли увидите блок "=== СОБРАННЫЕ ДАННЫЕ КВИЗА ===" со всеми данными

Пример вывода в консоли:
```
=== СОБРАННЫЕ ДАННЫЕ КВИЗА ===
Предпочтения по стилю: Кэжуал, Строгий офис
Диапазон роста: 180-185
Предпочтения по верху: Рубашка, Жилет
Предпочтения по низу: Классические брюки
Дополнительные услуги: Консультация по определению размера
Способ связи: Whatsapp
Телефон: +7 (967) 027-32-73
Имя: Иван
Согласие: Согласен
===============================
```

## Поддержка

При возникновении проблем проверьте:
1. Правильность URL формы Tilda
2. Существование кнопки с классом `.consult_success_btn`
3. Корректность имен полей в форме Tilda
4. Работу JavaScript в консоли браузера
